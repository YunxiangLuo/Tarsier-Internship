+ source /root/mugen-riscv/libs/locallibs/common_lib.sh
++ python3 --version
++ '[' 0 -eq 0 ']'
++ source /root/mugen-riscv/libs/locallibs/common_lib_python.sh
+ main
++ type -t post_test
+ '[' -n function ']'
+ trap post_test EXIT INT HUP TERM
+ rpm -qa
+ grep expect
++ type -t config_params
+ '[' -n '' ']'
++ type -t pre_test
+ '[' -n function ']'
+ pre_test
+ LOG_INFO 'Start environmental preparation.'
+ message='Start environmental preparation.'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'Start environmental preparation.'
Wed Dec  7 00:32:57 2022 - INFO  - Start environmental preparation.
+ DNF_INSTALL doxygen
+ pkgs=doxygen
+ node=1
+ '[' -z '' ']'
+ tmpfile=
++ python3 /root/mugen-riscv/libs/locallibs/rpm_manage.py install --pkgs doxygen --node 1 --tempfile ''
+ tmpfile2=/tmp/tmpkbziyu_s
+ '[' -z '' ']'
+ tmpfile=/tmp/tmpkbziyu_s
++ grep VERSION_ID /etc/os-release
++ awk -F '\"' '{print$2}'
+ VERSION_ID=8.5
+ LOG_INFO 'End of environmental preparation!'
+ message='End of environmental preparation!'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'End of environmental preparation!'
Wed Dec  7 00:36:13 2022 - INFO  - End of environmental preparation!
++ type -t run_test
+ '[' -n function ']'
+ run_test
+ LOG_INFO 'Start testing...'
+ message='Start testing...'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'Start testing...'
Wed Dec  7 00:36:13 2022 - INFO  - Start testing...
+ doxygen -s -g doxygen-mode
+ grep 'Configuration file '\''doxygen-mode'\'' created.'
Configuration file 'doxygen-mode' created.
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ doxygen doxygen-mode
+ grep finished
finished...
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ doxygen -u doxygen-mode
+ grep 'Configuration file '\''doxygen-mode'\'' updated.'
Configuration file 'doxygen-mode' updated.
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ test -f doxygen-mode -a -f doxygen-mode.bak
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ doxygen doxygen-mode
+ grep finished
finished...
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ doxygen -w rtf rtf-mode
+ CHECK_RESULT 1
+ actual_result=1
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 1 ']'
+ '[' 0 -eq 0 ']'
+ test 1x '!=' 0x
+ test -n ''
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_doxygen.sh line 42'
+ message='oe_test_doxygen.sh line 42'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'oe_test_doxygen.sh line 42'
Wed Dec  7 00:36:17 2022 - ERROR - oe_test_doxygen.sh line 42
+ return 0
+ doxygen rtf-mode
+ grep finished
finished...
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ doxygen -w html HTMLheader HTMLfooter HTML-mode
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ grep 'The standard CSS for doxygen' HTML-mode
/* The standard CSS for doxygen 1.9.1 */
+ grep 'HTML header for doxygen' HTMLheader
<!-- HTML header for doxygen 1.9.1-->
+ grep 'HTML footer for doxygen' HTMLfooter
<!-- HTML footer for doxygen 1.9.1-->
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ doxygen -w latex Latexheader Latex-mode config_file
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ grep 'stylesheet for doxygen' config_file
% stylesheet for doxygen 1.9.1
+ grep 'Latex header for doxygen' Latexheader
% Latex header for doxygen 1.9.1
+ grep 'Latex footer for doxygen' Latex-mode
% Latex footer for doxygen 1.9.1
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ doxygen -e rtf rtf-extensions-file
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ grep 'Generated by doxygen' rtf-extensions-file
# Generated by doxygen 1.9.1
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ doxygen -l test.xml
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ grep doxygenlayout test.xml
<doxygenlayout version="1.0">
</doxygenlayout>
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ doxygen -f emoji outputFileName
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ grep accept outputFileName
:accept:
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ doxygen -v
++ rpm -qa doxygen
++ awk -F - '{print $2}'
+ grep 1.9.1
1.9.1
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ '[' 8.5 '!=' 22.03 ']'
+ doxyindexer -o ./ test.xml
+ grep 'Processing test.xml'
oe_test_doxygen.sh: line 68: doxyindexer: command not found
+ CHECK_RESULT 1
+ actual_result=1
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 1 ']'
+ '[' 0 -eq 0 ']'
+ test 1x '!=' 0x
+ test -n ''
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_doxygen.sh line 69'
+ message='oe_test_doxygen.sh line 69'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'oe_test_doxygen.sh line 69'
Wed Dec  7 00:36:22 2022 - ERROR - oe_test_doxygen.sh line 69
+ return 0
+ test -d doxysearch.db
+ CHECK_RESULT 1
+ actual_result=1
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 1 ']'
+ '[' 0 -eq 0 ']'
+ test 1x '!=' 0x
+ test -n ''
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_doxygen.sh line 71'
+ message='oe_test_doxygen.sh line 71'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'oe_test_doxygen.sh line 71'
Wed Dec  7 00:36:23 2022 - ERROR - oe_test_doxygen.sh line 71
+ return 0
+ doxysearch.cgi doxysearch.db
+ grep 'Content-Type:application/javascript;charset=utf-8'
oe_test_doxygen.sh: line 72: doxysearch.cgi: command not found
+ CHECK_RESULT 1
+ actual_result=1
+ expect_result=0
+ mode=0
+ error_log=
+ '[' -z 1 ']'
+ '[' 0 -eq 0 ']'
+ test 1x '!=' 0x
+ test -n ''
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_doxygen.sh line 73'
+ message='oe_test_doxygen.sh line 73'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'oe_test_doxygen.sh line 73'
Wed Dec  7 00:36:23 2022 - ERROR - oe_test_doxygen.sh line 73
+ return 0
+ LOG_INFO 'Finish test!'
+ message='Finish test!'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'Finish test!'
Wed Dec  7 00:36:24 2022 - INFO  - Finish test!
+ CASE_RESULT 0
+ case_re=0
+ test -z 4
+ test 4 -gt 0
+ LOG_ERROR 'failed to execute the case.'
+ message='failed to execute the case.'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'failed to execute the case.'
Wed Dec  7 00:36:24 2022 - ERROR - failed to execute the case.
+ exit 4
+ post_test
+ LOG_INFO 'start environment cleanup.'
+ message='start environment cleanup.'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'start environment cleanup.'
Wed Dec  7 00:36:25 2022 - INFO  - start environment cleanup.
+ rm -rf doxygen-mode doxygen-mode.bak rtf-extensions-file rtf-mode HTMLfooter HTMLheader HTML-mode Latexheader Latex-mode test.xml outputFileName html latex
+ DNF_REMOVE
+ node=1
+ pkg_list=
+ mode=0
+ [[ -z /tmp/tmpkbziyu_s ]]
+ '[' 0 -ne 0 ']'
+ '[' 1 == 0 ']'
+ python3 /root/mugen-riscv/libs/locallibs/rpm_manage.py remove --node 1 --pkgs '' --tempfile /tmp/tmpkbziyu_s
+ '[' 0 -ne 0 ']'
+ LOG_INFO 'Finish environment cleanup!'
+ message='Finish environment cleanup!'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'Finish environment cleanup!'
Wed Dec  7 00:36:58 2022 - INFO  - Finish environment cleanup!
